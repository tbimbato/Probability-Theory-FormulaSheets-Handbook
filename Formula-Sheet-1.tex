\documentclass{article}
\usepackage[landscape]{geometry}
\usepackage{multicol}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing}

\usepackage{paralist}
\usepackage{xcolor}
\usepackage{mathtools}
\usepackage{enumitem}
\setlist[itemize]{topsep=0.4pt, itemsep=2.5pt, parsep=0pt, partopsep=0pt}


\title{Probability for Data Science - Formula Sheet 1}
\author{Tommi Bimbato - LM Data Science / Univr - 2024}
\date{}

\advance\topmargin-2cm
\advance\textheight3in
\advance\textwidth3in
\advance\oddsidemargin-1.6in
\advance\evensidemargin-1.6in
\parindent5pt
\parskip5pt

\begin{document}

\begin{center}
{\huge{\textbf{Probability for Data Science - Formula Sheet 1}}}\\
\vspace{+0.2cm}
Tommi Bimbato - Matr. VR527601 \textbf{1st Semester Sitting - LM Data Science / Univr - Feb. 2025}\\
\vspace{+0.6cm}

\end{center}

\begin{multicols*}{3}
    \setlength{\abovedisplayskip}{1pt}
    \setlength{\belowdisplayskip}{1pt}
\tikzstyle{mybox} = [draw=black, fill=white, thin ,
    rectangle, rounded corners, inner sep=0.3cm, inner ysep=0.6cm]
\tikzstyle{fancytitle} =[fill=white, text=black, font=\small\bfseries]

%------------ Combinatorial Analysis ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}
            \begin{multicols*}{2}
\tiny
    \begin{itemize}
        \item Unordered\\ $nCr = \binom{n}{r} = \frac{n!}{r!(n-r)!}$\\
        (with repeats): \\ $\binom{n+r-1}{r} = \frac{(n+r-1)!}{r!(n-1)!}$
        \newcolumn
        \item Ordered\\ $nPr= P(n, r) = \frac{n!}{(n-r)!}$\\ (with repeats): $n^r$
    \end{itemize}
\end{multicols*}


        \end{minipage}
    };
    \node[fancytitle, right=10pt] at (box.north west) {Combinatorial Analysis};
    \end{tikzpicture}


%------------ Set Operations and Probability Rules ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}\small
            \begin{itemize}
                \item $P(A \cap B) = P(B|A) \cdot P(A)$\\
                \tiny{If independent:}\small\\
                $P(A \cap B) = P(A) \cdot P(B)$\\
                $P(A \cap B \cap C) = P(A) P(B) P(C)$\\
                \tiny{For three independent events.}\small

                \item  $P(A \cup B) = P(A) + P(B) - P(A \cap B)$
                \item  $P(A \cap B) = P(A) + P(B) - P(A \cup B)$    
                \item  $P(A \cap B) = P(A \mid B) P(B) = P(B \mid A) P(A)$                            

                \item \textbf{Complement Rules:}  
                $P(A^C) = 1 - P(A)$\\
                $P(A^C \cap B^C) = P(A \cup B)^C = 1 - P(A \cup B)$\\


                \item \textbf{Bayesâ€™ TH:} $
                P(A|B)  =  \frac{P(A \cap B)}{P(B)} = \frac{P(B|A) \cdot P(A)}{P(B)} $\\
                \tiny{If multiple hypotheses:}\small\\
                $P(A_{k} | B) = \frac{P(B | A_k) P(A_k)}{\sum_{i=1}^{n} P(B | A_i) P(A_i)}$ \tiny with $k = 1, 2, \dots, n$\small

                \item \textbf{Law of Total Probability:} \\ 
                $P(A) = \sum_{i=1}^{n} P(A|B_i) P(B_i)$\\
                $P(A) = P(A \cap B) + P(A \cap B^c)$

            \end{itemize}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Set Operations and Probability Rules};
\end{tikzpicture}


%------------ Discrete Random Variables ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}
            \begin{itemize} \small
            \item$P(X=x) = p_x(x)$
            \item $P(X < x) = \sum_{k < x} P(X = k)$            
            \item$\mathbb{E}(X) = \sum_{i}x_i \cdot p_i$ \tiny{(weighted average)}\small
            \item$\text{Var}(X) = \mathbb{E}(X^2) - \mathbb{E}(X)^2 = \sum_{i}(x_i - \mathbb{E}(X))^2 \cdot p_i$
            \item \tiny $\mathbb{E}(aX+b) = a\mathbb{E}(X) + b \quad \text{Var}(aX+b) = a^2\text{Var}(X)$ \small
            \item If $X_1..X_n$ are indipendent:
            \subitem $\text{E}(X_1+..X_n) = \sum\limits_{i=1}^n E(X_i)$
            \subitem $\text{Var}(X_1+..X_n) = \sum\limits_{i=1}^n \text{Var}(X_i)$
            \item $J = X + Y \rightarrow P(J = k) = \sum_{x} P(X = x) P(Y = k - x)$  
          
            \end{itemize}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Discrete Random Variables};
\end{tikzpicture}

\newcolumn

%------------ Continuous Random Variables ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}
            \begin{itemize} \small
            \item $\int_{-\infty}^\infty f(x)dx = 1$
            \item $F_X(x) = P(X \leq x) = \int_{-\infty}^x f(x_t)dx_t$\\
            \tiny $P(X < x) = P(X \leq x)$ for all Continuous RV             \small
            \item $\mathbb{E}(X) = \int_{-\infty}^\infty x f(x)dx$
            \item $\text{Var}(X) = \mathbb{E}(X^2) - \mathbb{E}(X)^2 = \int_{-\infty}^\infty x^2 f(x)dx - \mathbb{E}(X)^2$
            \item $P(X \in [a,b]) = \int_a^b f(x)dx$
            \item \tiny if J = X + Y $\rightarrow f_J(j) = \int_{-\infty}^{\infty} f_X(x) f_Y(j - x) dx$            
            \item \tiny $f_X(x) \geq 0$ and $P(X=x) = 0$ $\forall$ Continuous RVs
            \item Convolution where J = X + Y $f_J(j) = \int_{-\infty}^{\infty} f_X(x) f_Y(j - x) dx$

            \end{itemize}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Continuous Random Variables};
\end{tikzpicture}



%------------ Generic Joint Distributions ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}

            \begin{itemize}
        \item $P(X = x, Y = y) = p_{X,Y}(x, y)$
        \item $[f\approx P]\ f_{X|Y}(x|y) = \frac{f_{X,Y}(x, y)}{f_Y(y)}$
        \item $\mathbb{E}[X] = \mathbb{E}[\mathbb{E}[X \mid Y]]$  
        \item $\text{Var}(X) = \mathbb{E}[\text{Var}(X \mid Y)] + \text{Var}(\mathbb{E}[X \mid Y])$              
        \item $\text{Cov}(X, Y) = \mathbb{E}[X \cdot Y] - \mathbb{E}[X] \cdot \mathbb{E}[Y]$
        \item $\text{Var}(X + Y) = \text{Var}(X) + \text{Var}(Y) + 2 \cdot \text{Cov}(X, Y)$
        \item $\text{Var}[X, Y] = \mathbb{E}[X^2] \cdot \mathbb{E}[Y^2] - \mathbb{E}[X] \cdot \mathbb{E}[Y]$
        \item \textbf{ind:}\ $f_{X,Y}(x,y) = f_X(x) f_Y(y) \quad $\tiny$ \forall x, y$\small
        \item correlation k: $\rho_{X,Y} = \frac{\text{Cov}(X, Y)}{\sqrt{\text{Var}(X) \cdot \text{Var}(Y)}}$\\        
        
        
            \end{itemize}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Generic Joint Distributions};
\end{tikzpicture}




%------------ Discrete Joint Distributions ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}
            \begin{itemize} \footnotesize
        \item \textbf{Marginal PMF:} \quad $P_X(x) = \sum_{y} p_{X,Y}(x, y)$
        \item \textbf{Conditional PMF:} \quad $P_{X|Y}(x|y) = \frac{P_{X,Y}(x,y)}{P_Y(y)}$
        \item \textbf{Expectation:} \ $\mathbb{E}[g(X, Y)] = \sum_{x} \sum_{y} g(x, y) p_{X,Y}(x, y)$
        \item \textbf{Mean:} \quad $\mathbb{E}[X] = \sum_{x} \sum_{y} x \cdot p_{X,Y}(x, y)$
        \item \textbf{Conditional E:} \quad $\mathbb{E}[X \mid Y = y] = \sum_{x} x P_{X|Y}(x|y)$
        \item \textbf{Iterated Expectations:} \quad $\mathbb{E}[X] = \mathbb{E}[\mathbb{E}[X \mid Y]]$
        \item \textbf{Joint Expectation:} \quad $\mathbb{E}[X Y] = \sum_{x} \sum_{y} x y p_{X,Y}(x, y)$
        \item \textbf{Covariance:} \quad $\operatorname{Cov}(X,Y) = \mathbb{E}[XY] - \mathbb{E}[X] \mathbb{E}[Y]$
        \item \textbf{Independence:} \quad $P_{X,Y}(x,y) = P_X(x) P_Y(y) \quad \forall x, y$
        \item \textbf{MGF:} \ $M_{X,Y}(t_1, t_2) = \sum_{x} \sum_{y} e^{t_1 x + t_2 y} p_{X,Y}(x,y)$
        \item \textbf{Variance Formula:} \quad $\operatorname{Var}(X) = \mathbb{E}[X^2] - (\mathbb{E}[X])^2$
            \end{itemize}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Discrete Joint Distributions};
\end{tikzpicture}


\newcolumn


%------------ Continuous Joint Distributions ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}

        \begin{itemize} \footnotesize
            \item \textbf{Marginal:} \quad $f_X(x) = \int_{-\infty}^{\infty} f_{X,Y}(x,y) dy$
            \item \textbf{Conditional:} \quad $f_{X|Y}(x|y) = \frac{f_{X,Y}(x,y)}{f_Y(y)}$
            \item $\mathbb{E}[g(X,Y)] = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} g(x,y) f_{X,Y}(x,y) dx dy$
            \item $\mathbb{E}[X] = \int_{-\infty}^\infty \int_{-\infty}^\infty x f_{X,Y}(x, y) dx dy $
            \item \textbf{Conditional E:} \quad $\mathbb{E}[X|Y] = \int_{-\infty}^{\infty} x f_{X|Y}(x|y) dx$
            \item \textbf{Iterated Expectations:} \quad $\mathbb{E}[X] = \mathbb{E}[\mathbb{E}[X \mid Y]]$\\
            \tiny Where: $\mathbb{E}[X \mid Y = y] = \int x f_{X|Y}(x|y) dx$ \small
            \item \textbf{Joint E:} \quad $\mathbb{E}[XY] = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} x y f_{X,Y}(x,y) dx dy$
            \item \textbf{Covariance:} \quad $\operatorname{Cov}(X,Y) = \mathbb{E}[XY] - \mathbb{E}[X] \mathbb{E}[Y]$
            \item If $X$ and $Y$ are independent, the PDF of $J = X + Y$ is:
            $f_J(j) = \int_{-\infty}^\infty f_X(x) f_Y(j - x) dx$

        \end{itemize}
    \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Continuous Joint Distributions};
\end{tikzpicture}


%------------ Law of Large Numbers and CLT ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}
        \small
        \textbf{Assumptions:} i.i.d. RVs: $X_1, X_2, \dots, X_n$, \\with $\mathbb{E}[X_i] = \mu$, $\operatorname{Var}(X_i) = \sigma^2$.
        
        \begin{itemize}   \footnotesize 
            \item \textbf{LLN}:
            $\text{Sample Mean} = (\frac{1}{n} \sum_{i=1}^{n} X_i) \to \mu \quad \text{as } n \to \infty$
            
        
            \item \textbf{CLT}:  
            \[
            Z_n = \frac{\sum_{i=1}^n X_i - n\mu}{\sigma\sqrt{n}} \xrightarrow{d} N(0,1)
            \]
            \tiny if $S_n = X_1 + X_2 + \dots + X_n \rightarrow S_n \approx \mathcal{N}(n\mu, n\sigma^2)$\\
            If mean $\bar{X}_n \approx \mathcal{N}\left(\mu, \frac{\sigma^2}{n}\right)$\\ \small
            \item \textbf{$P(a \leq Sum \leq b)$}:  
            \[
            P(a \leq S_n \leq b) \approx P\left( \frac{a - n\mu}{\sigma \sqrt{n}} \leq Z \leq \frac{b - n\mu}{\sigma \sqrt{n}} \right)
            \]
            \tiny 

            $\mathbb{E}[S_n]  = \mathbb{E}[X_1] + \mathbb{E}[X_2] + \dots + \mathbb{E}[X_n], \text{if equal }= n \mathbb{E}[X]$\\
            $\sigma_{S_n} = \sqrt{Var(X_1) + Var(X_2) \dots}, \text{if equal }\sqrt{n \cdot \operatorname{Var}(X)}$

            \item \textbf{Heuristics}:
            \begin{itemize}
                \item \textbf{Bin}: $np \geq 5, \quad n(1-p) \geq 5$ ($\to \quad$  $\mathcal{N}(np, np(1-p))$).
                \item \textbf{Poisson}: $\lambda > 10$ ($\to \quad$  $\mathcal{N}(\lambda, \lambda)$).
                \item \textbf{Sum of RVs}: $n \geq 30$.
            \end{itemize}
        \end{itemize}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {LLN and CLT - Practical Guide};
\end{tikzpicture}


%------------ EXTRA ---------------
\begin{tikzpicture}
    \node [mybox] (box){
        \begin{minipage}{0.3\textwidth}
            \begin{multicols}{2}
                \centerline{$\bigcap$}
                \centerline{$\approx$Exclusive AND $\land$}
                \newcolumn


                \centerline{$\bigcup$}
                \centerline{$\approx$Inclusive OR $\lor$}
            \end{multicols}
        \end{minipage}
    };
\node[fancytitle, right=10pt] at (box.north west) {Remember!};
\end{tikzpicture}


\end{multicols*}
\end{document}


